<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>me@four oh four - 常规安全审计</title>
    <link rel="stylesheet" type="text/css" href="/assets/stylesheet.css" media="screen">
    <link href="/assets/favicon.ico" rel="shortcut icon">
    <link href="/assets/favicon.ico" rel="icon">
    <meta name="generator" content="nanoc 3.2.4">
  </head>
  <body>
    <div id="main">
        <div id="main-top-div">
        
        
                <a href="/">i update me everyday</a>
                |
                
                <a href="/blog/"></a>
                |
                
                <a href="/blog/2012-02-24/">常规安全审计</a>
                
                
        
        <hr>
        </div>

        <p class="created_at">Fri Feb 24 16:45:48 CST 2012</p>
      <h4 style="color:darkgrey;">逐步整理系统权限</h4>
<ul>
	<li>sudo
	<ul>
		<li>M0: 用户user<br />
                &#8211; 系统用户(backup, crontab user)<br />
                &#8211; dev 个人用户
		<ul>
			<li>尽量直接使用个人帐号</li>
			<li>有权限问题时候可以用sudo，但是禁止切换为root</li>
			<li>减少输入密码需要，逐步以长密码和key代替。</li>
		</ul></li>
		<li>M1: sudoer/visudo<br />
                &#8211; 只用来界定执行的命令组权限
		<ul>
			<li>禁用sudo su 切换root</li>
			<li>cleanup sudoers 让它实际可用</li>
			<li>定义一些系统命令，谨慎关闭sudo权限</li>
		</ul></li>
		<li>M2: disable root</li>
	</ul></li>
	<li>sshd_config
	<ul>
		<li>M1: 根据用户客户端系统尽量普及key验证登录</li>
		<li>M2: 所有的系统用户和脚本强制使用key验证登录</li>
		<li>M3: disable password login</li>
	</ul></li>
	<li>mysqld
	<ul>
		<li>M1: 使用${HOME}/.my.cnf, mysql帐号不要直接写入到脚本中</li>
		<li>M2: clean up grant table</li>
	</ul></li>
	<li><span class="caps">DNS</span>/Host/Monitor
	<ul>
		<li>M1: 在/etc/hosts中使用内网ip/hostname对照</li>
		<li>M2: 公网ip解析和连接作为特殊需求单独考虑</li>
	</ul></li>
</ul>
    </div>
    <div id="sidebar">
      <h2>Be there</h2>
      <ul>
        <li><a href="/blog/">log</a></li>
        <li><a href="/">home</a></li>
      </ul>
      <h2>Read it</h2>
      <ul>
        <li><a href="http://docs.python.org/library/index.html">python doc</a></li>
        <li><a href="http://git-scm.com/documentation">git doc</a></li>
        <li><a href="http://safaribooksonline.com/">safaribooks</a></li>
        <li><a href="/txt/unixtoolbox.txt">basic commands</a></li>
      </ul>
      <h2>Use tools</h2>
      <ul>
        <li><a href="http://goo.gl/">url shortener</a></li>
        <li><a href="http://time.is/">localtime</a></li>
        <li><a href="https://www.google.com/finance?q=CURRENCY%3AUSDEUR&hl=en">currency ex rate</a></li>
        <li><a href="http://ttyn.github.com/InstaList/">checklist</a></li>
      </ul>
      <h2>Do that</h2>
      <ul>
        <li>ego depletion</li>
      </ul>
      <div id="div_update">Mon March 26, 2012 @15:09:55 CST</div>
    </div>

<!-- BEGIN google analytics --> 
<script type="text/javascript">  
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-7206667-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<!-- END google analytics -->
  </body>
</html>
